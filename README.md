some elegant usage of Python's decorator
